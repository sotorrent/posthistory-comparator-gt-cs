Id;PostId;UserId;PostHistoryTypeId;RevisionGUID;CreationDate;Text;UserDisplayName;Comment
60768910;22507249;3437734;2;ba96ef4c-3241-4506-8d70-be134397eb4f;2014-03-19 13:23:02.0;"I am using curl library within c++ code. I would like to upload a file to the server using sftp and user authentization. While I manage to do this from windows command line using &#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    curl -k -T f:/temp/openvpn-config.zip -u user:password sftp://fabrika/tmp/&#xD;&#xA;&#xD;&#xA;calling curl with options&#xD;&#xA;&#xD;&#xA;    struct stat file_info;&#xD;&#xA;    FILE *fd = fopen(f:/temp/openvpn-config.zip,""rb"");&#xD;&#xA;    int res_st = fstat(fileno(fd), &file_info);&#xD;&#xA;    fclose(fd);&#xD;&#xA;&#xD;&#xA;    ffile.open(f:/temp/openvpn-config.zip,ios::in | ios::binary);&#xD;&#xA;&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_URL, ""sftp://fabrika/tmp/"");&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_UPLOAD, 1L);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_READDATA, (void*)&ffile);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_READFUNCTION, &ReadCallback);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_INFILESIZE_LARGE, (curl_off_t)file_info.st_size);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_SSL_VERIFYPEER, 0L);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_USERPWD, ""user:password"");&#xD;&#xA;&#xD;&#xA;gives me error code 79, which tranlates into ""Error in the ssh layer"". I checked the fstat result, the file size passed to curl is correct.&#xD;&#xA;&#xD;&#xA;Clearly I am missing some parameter used by the command line curl which does the trick, I'll be grateful for any suggestions.&#xD;&#xA;&#xD;&#xA;Petr";;
60770592;22507249;3437734;5;1a867ff0-013a-43b9-9540-e0ab42229b63;2014-03-19 13:39:36.0;"I am using curl library within c++ code. I would like to upload a file to the server using sftp and user authentization. While I manage to do this from windows command line using &#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    curl -k -T f:/temp/openvpn-config.zip -u user:password sftp://fabrika/tmp/&#xD;&#xA;&#xD;&#xA;calling curl with options&#xD;&#xA;&#xD;&#xA;    struct stat file_info;&#xD;&#xA;    FILE *fd = fopen(f:/temp/openvpn-config.zip,""rb"");&#xD;&#xA;    int res_st = fstat(fileno(fd), &file_info);&#xD;&#xA;    fclose(fd);&#xD;&#xA;&#xD;&#xA;    ffile.open(f:/temp/openvpn-config.zip,ios::in | ios::binary);&#xD;&#xA;&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_URL, ""sftp://fabrika/tmp/"");&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_UPLOAD, 1L);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_READDATA, (void*)&ffile);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_READFUNCTION, &ReadCallback);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_INFILESIZE_LARGE, (curl_off_t)file_info.st_size);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_SSL_VERIFYPEER, 0L);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_USERPWD, ""user:password"");&#xD;&#xA;&#xD;&#xA;gives me error code 79, which tranlates into ""Error in the ssh layer"". I checked the fstat result, the file size passed to curl is correct.&#xD;&#xA;&#xD;&#xA;Edit: Forgot to add debug information from verbose mode, here it is&#xD;&#xA;    &#xD;&#xA;    Hostname was NOT found in DNS cache&#xD;&#xA;    Adding handle: conn: 0x4236ef0&#xD;&#xA;    Adding handle: send: 0&#xD;&#xA;    Adding handle: recv: 0&#xD;&#xA;    Curl_addHandleToPipeline: length: 1&#xD;&#xA;    - Conn 0 (0x4236ef0) send_pipe: 1, recv_pipe: 0&#xD;&#xA;    Trying 192.168.3.1...&#xD;&#xA;    Connected to fabrika (192.168.3.1) port 22 (#0)&#xD;&#xA;    SSH MD5 fingerprint: 9e73dade666cbbac9a82adfeffbd9f18&#xD;&#xA;    SSH authentication methods available: publickey,password&#xD;&#xA;    Using ssh public key file id_dsa.pub&#xD;&#xA;    Using ssh private key file id_dsa&#xD;&#xA;    SSH public key authentication failed: Unable to open public key file&#xD;&#xA;    Initialized password authentication&#xD;&#xA;    Authentication complete&#xD;&#xA;    Upload failed: Operation failed (4/-31)&#xD;&#xA;    Connection #0 to host fabrika left intact&#xD;&#xA;&#xD;&#xA;Clearly I am missing some parameter used by the command line curl which does the trick, I'll be grateful for any suggestions.&#xD;&#xA;&#xD;&#xA;Petr";;verbose output added
60962738;22507249;3437734;5;90ffc635-43e9-40d0-b459-3b064763ad30;2014-03-21 13:14:28.0;"I am using curl library within c++ code. I would like to upload a file to the server using sftp and user authentization. While I manage to do this from windows command line using &#xD;&#xA;&#xD;&#xA;&#xD;&#xA;    curl -k -T f:/temp/openvpn-config.zip -u user:password sftp://fabrika/tmp/&#xD;&#xA;&#xD;&#xA;calling curl with options&#xD;&#xA;&#xD;&#xA;    struct stat file_info;&#xD;&#xA;    FILE *fd = fopen(f:/temp/openvpn-config.zip,""rb"");&#xD;&#xA;    int res_st = fstat(fileno(fd), &file_info);&#xD;&#xA;    fclose(fd);&#xD;&#xA;&#xD;&#xA;    ffile.open(f:/temp/openvpn-config.zip,ios::in | ios::binary);&#xD;&#xA;&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_URL, ""sftp://fabrika/tmp/"");&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_UPLOAD, 1L);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_READDATA, (void*)&ffile);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_READFUNCTION, &ReadCallback);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_INFILESIZE_LARGE, (curl_off_t)file_info.st_size);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_SSL_VERIFYPEER, 0L);&#xD;&#xA;    curl_easy_setopt(h_curl, CURLOPT_USERPWD, ""user:password"");&#xD;&#xA;&#xD;&#xA;gives me error code 79, which tranlates into ""Error in the ssh layer"". I checked the fstat result, the file size passed to curl is correct.&#xD;&#xA;&#xD;&#xA;Edit: Forgot to add debug information from verbose mode, here it is&#xD;&#xA;    &#xD;&#xA;    Hostname was NOT found in DNS cache&#xD;&#xA;    Adding handle: conn: 0x4236ef0&#xD;&#xA;    Adding handle: send: 0&#xD;&#xA;    Adding handle: recv: 0&#xD;&#xA;    Curl_addHandleToPipeline: length: 1&#xD;&#xA;    - Conn 0 (0x4236ef0) send_pipe: 1, recv_pipe: 0&#xD;&#xA;    Trying 192.168.3.1...&#xD;&#xA;    Connected to fabrika (192.168.3.1) port 22 (#0)&#xD;&#xA;    SSH MD5 fingerprint: 9e73dade666cbbac9a82adfeffbd9f18&#xD;&#xA;    SSH authentication methods available: publickey,password&#xD;&#xA;    Using ssh public key file id_dsa.pub&#xD;&#xA;    Using ssh private key file id_dsa&#xD;&#xA;    SSH public key authentication failed: Unable to open public key file&#xD;&#xA;    Initialized password authentication&#xD;&#xA;    Authentication complete&#xD;&#xA;    Upload failed: Operation failed (4/-31)&#xD;&#xA;    Connection #0 to host fabrika left intact&#xD;&#xA;&#xD;&#xA;Clearly I am missing some parameter used by the command line curl which does the trick, I'll be grateful for any suggestions.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Petr";;added 283 characters in body
